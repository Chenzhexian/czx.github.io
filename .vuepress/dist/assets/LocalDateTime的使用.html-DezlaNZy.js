import{_ as n,o as s,c as a,e as t}from"./app-CzSBTTj3.js";const p={},o=t(`<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><blockquote><p>前几天做的项目有个计算时间的需求，用到了LocalDateTime，记录一下。</p></blockquote><p>我们平时最常用的就是<code>Date</code>类，但是 <code>Date</code> 的缺点：</p><ul><li>Date 如果不格式化，打印出的日期可读性差；</li><li>使用 SimpleDateFormat 可以对日期时间进行格式化，但是 SimpleDateFormat 并非线性安全；</li><li>Date 对时间处理比较麻烦；</li></ul><h2 id="常用方法" tabindex="-1"><a class="header-anchor" href="#常用方法"><span>常用方法</span></a></h2><p><code>LocalDateTime</code>是<code>java.time</code>包下的类，它其实就是<code>LocalDate</code>和<code>LocalTime</code>的结合体，它提供了更多的时间操作方法。</p><p>我们直接上代码，创建一个测试类，用main方法测试</p><h3 id="获取当前日期和时间" tabindex="-1"><a class="header-anchor" href="#获取当前日期和时间"><span>获取当前日期和时间</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalTime</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LocalDate</span> nowDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果：&quot;</span> <span class="token operator">+</span> nowDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LocalTime</span> nowTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果：&quot;</span> <span class="token operator">+</span> nowTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LocalDateTime</span> nowDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果：&quot;</span> <span class="token operator">+</span> nowDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果如下： <img src="https://czxcab.cn/file/docs/LocalDateTime1.jpg" alt=""></p><h3 id="获取秒数和毫秒数" tabindex="-1"><a class="header-anchor" href="#获取秒数和毫秒数"><span>获取秒数和毫秒数</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 获取秒数</span>
<span class="token class-name">Long</span> second <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEpochSecond</span><span class="token punctuation">(</span><span class="token class-name">ZoneOffset</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
<span class="token comment">// 获取毫秒数</span>
<span class="token class-name">Long</span> milliSecond <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token class-name">ZoneOffset</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="localdatetime与string互转" tabindex="-1"><a class="header-anchor" href="#localdatetime与string互转"><span>LocalDateTime与String互转</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 时间转字符串格式化                                                                                                    </span>
<span class="token class-name">DateTimeFormatter</span> formatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyyMMddHHmmssSSS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 
<span class="token class-name">String</span> dateTime1 <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token class-name">ZoneOffset</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatter<span class="token punctuation">)</span><span class="token punctuation">;</span>                                    
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果：&quot;</span> <span class="token operator">+</span> dateTime1<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                   
                                                                                                                
<span class="token comment">// 时间格式化2                                                                                                       </span>
<span class="token class-name">LocalDate</span> localDate2 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                               
<span class="token class-name">String</span> s1 <span class="token operator">=</span> localDate2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token constant">BASIC_ISO_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                
<span class="token class-name">String</span> s2 <span class="token operator">=</span> localDate2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token constant">ISO_LOCAL_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                
<span class="token comment">// 自定义格式化                                                                                                       </span>
<span class="token class-name">DateTimeFormatter</span> dtf <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;dd/MM/yyyy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                              
<span class="token class-name">String</span> s3 <span class="token operator">=</span> localDate2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dtf<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                             
<span class="token comment">// 时间格式化2：2019-09-10 20190910 2019-09-10 10/09/2019                                                             </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;时间格式化2：&quot;</span> <span class="token operator">+</span> localDate2 <span class="token operator">+</span> <span class="token string">&quot;  &quot;</span> <span class="token operator">+</span> s1 <span class="token operator">+</span> <span class="token string">&quot;  &quot;</span> <span class="token operator">+</span> s2 <span class="token operator">+</span> <span class="token string">&quot;  &quot;</span> <span class="token operator">+</span> s3<span class="token punctuation">)</span><span class="token punctuation">;</span>                                 
                                                                                                                
<span class="token comment">// 字符串转时间                                                                                                       </span>
<span class="token class-name">String</span> dateTimeStr <span class="token operator">=</span> <span class="token string">&quot;2018-07-28 14:11:15&quot;</span><span class="token punctuation">;</span>                                                                     
<span class="token class-name">DateTimeFormatter</span> df <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
<span class="token class-name">LocalDateTime</span> dateTime2 <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateTimeStr<span class="token punctuation">,</span> df<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                 
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果：&quot;</span> <span class="token operator">+</span> dateTime2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="date与localdatetime互转" tabindex="-1"><a class="header-anchor" href="#date与localdatetime互转"><span>Date与LocalDateTime互转</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 将java.util.Date 转换为java8 的java.time.LocalDateTime,默认时区为东8区                                                   </span>
<span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                         
<span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atOffset</span><span class="token punctuation">(</span><span class="token class-name">ZoneOffset</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocalDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果：&quot;</span> <span class="token operator">+</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>                                       
                                                                                                                
<span class="token comment">// 将java8 的 java.time.LocalDateTime 转换为 java.util.Date，默认时区为东8区                                                 </span>
<span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token class-name">ZoneOffset</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                           
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果：&quot;</span> <span class="token operator">+</span> date2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="localdatetime格式化" tabindex="-1"><a class="header-anchor" href="#localdatetime格式化"><span>LocalDateTime格式化</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                       
<span class="token class-name">DateTimeFormatter</span> dtf2 <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                    
<span class="token class-name">String</span> strDate <span class="token operator">=</span> dtf2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                             
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果：&quot;</span> <span class="token operator">+</span> strDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="localdate指定年月日-获取年、月、日、周次" tabindex="-1"><a class="header-anchor" href="#localdate指定年月日-获取年、月、日、周次"><span>LocalDate指定年月日，获取年、月、日、周次</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">LocalDate</span> someDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                 
<span class="token comment">// 年                                                                                                            </span>
<span class="token keyword">int</span> year <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                  
<span class="token keyword">int</span> year1 <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                     
<span class="token comment">// 月                                                                                                            </span>
<span class="token class-name">Month</span> month <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                              
<span class="token keyword">int</span> month1 <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">MONTH_OF_YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                           
<span class="token comment">// 日                                                                                                            </span>
<span class="token keyword">int</span> day <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                             
<span class="token keyword">int</span> day1 <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">DAY_OF_MONTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                              
<span class="token comment">// 周                                                                                                            </span>
<span class="token class-name">DayOfWeek</span> dayOfWeek <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                  
<span class="token keyword">int</span> dayOfWeek1 <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">DAY_OF_WEEK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                         
<span class="token comment">// 结果：日期：2020-04-11，年：2020==2020，月：APRIL==4                                                                     </span>
<span class="token comment">// 日：11==11，周：SATURDAY==6                                                                                       </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;日期：&quot;</span> <span class="token operator">+</span> someDate <span class="token operator">+</span> <span class="token string">&quot;，年：&quot;</span> <span class="token operator">+</span> year <span class="token operator">+</span> <span class="token string">&quot;==&quot;</span> <span class="token operator">+</span> year1 <span class="token operator">+</span> <span class="token string">&quot;，月：&quot;</span> <span class="token operator">+</span> month <span class="token operator">+</span> <span class="token string">&quot;==&quot;</span> <span class="token operator">+</span> month1<span class="token punctuation">)</span><span class="token punctuation">;</span>             
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;日：&quot;</span> <span class="token operator">+</span> day <span class="token operator">+</span> <span class="token string">&quot;==&quot;</span> <span class="token operator">+</span> day1 <span class="token operator">+</span> <span class="token string">&quot;，周：&quot;</span> <span class="token operator">+</span> dayOfWeek <span class="token operator">+</span> <span class="token string">&quot;==&quot;</span> <span class="token operator">+</span> dayOfWeek1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="localtime某个时间的时分秒" tabindex="-1"><a class="header-anchor" href="#localtime某个时间的时分秒"><span>LocalTime某个时间的时分秒</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">LocalTime</span> someTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                  
<span class="token comment">// 获取小时                                                                                                         </span>
<span class="token keyword">int</span> hour <span class="token operator">=</span> someTime<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                  
<span class="token keyword">int</span> hour1 <span class="token operator">=</span> someTime<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">HOUR_OF_DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                              
<span class="token comment">// 获取分                                                                                                          </span>
<span class="token keyword">int</span> minute <span class="token operator">=</span> someTime<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                              
<span class="token keyword">int</span> minute1 <span class="token operator">=</span> someTime<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">MINUTE_OF_HOUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                         
<span class="token comment">// 获取秒                                                                                                          </span>
<span class="token keyword">int</span> second1 <span class="token operator">=</span> someTime<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                             
<span class="token keyword">int</span> second2 <span class="token operator">=</span> someTime<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">SECOND_OF_MINUTE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                       
<span class="token comment">// 时间：13:51:10，时：13==13，分：51==51                                                                                </span>
<span class="token comment">// 秒：10==10                                                                                                     </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;时间：&quot;</span> <span class="token operator">+</span> someTime <span class="token operator">+</span> <span class="token string">&quot;，时：&quot;</span> <span class="token operator">+</span> hour <span class="token operator">+</span> <span class="token string">&quot;==&quot;</span> <span class="token operator">+</span> hour1 <span class="token operator">+</span> <span class="token string">&quot;，分：&quot;</span> <span class="token operator">+</span> minute <span class="token operator">+</span> <span class="token string">&quot;==&quot;</span> <span class="token operator">+</span> minute1<span class="token punctuation">)</span><span class="token punctuation">;</span>           
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;秒：&quot;</span> <span class="token operator">+</span> second1 <span class="token operator">+</span> <span class="token string">&quot;==&quot;</span> <span class="token operator">+</span> second2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取年月日和时分秒" tabindex="-1"><a class="header-anchor" href="#获取年月日和时分秒"><span>获取年月日和时分秒</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">LocalDateTime</span> ldt <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">SEPTEMBER</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">46</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                    
<span class="token class-name">LocalDateTime</span> ldt2 <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>someDate<span class="token punctuation">,</span> someTime<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                      
<span class="token class-name">LocalDateTime</span> ldt3 <span class="token operator">=</span> someDate<span class="token punctuation">.</span><span class="token function">atTime</span><span class="token punctuation">(</span>someTime<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                 
<span class="token class-name">LocalDateTime</span> ldt4 <span class="token operator">=</span> someTime<span class="token punctuation">.</span><span class="token function">atDate</span><span class="token punctuation">(</span>someDate<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                 
<span class="token comment">// --2019-09-10T14:46:56--2020-04-11T13:51:10--2020-04-11T13:51:10--2020-04-11T13:51:10                         </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ldt <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ldt2 <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ldt3 <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ldt4<span class="token punctuation">)</span><span class="token punctuation">;</span>                                       
                                                                                                                
<span class="token class-name">LocalDate</span> ld2 <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                              
<span class="token class-name">LocalTime</span> lt2 <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token function">toLocalTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                              
<span class="token comment">// --2019-09-10--14:46:56                                                                                       </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ld2 <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> lt2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="日期计算" tabindex="-1"><a class="header-anchor" href="#日期计算"><span>日期计算</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 增加一年                                                                                                         </span>
ldt2 <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                        
ldt3 <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">YEARS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                           
<span class="token comment">// 减少一个月                                                                                                        </span>
ldt4 <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token function">minusMonths</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                      
ldt <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">MONTHS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                          
                                                                                                                
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;日期计算--&quot;</span> <span class="token operator">+</span> ldt2 <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ldt3 <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ldt4 <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ldt<span class="token punctuation">)</span><span class="token punctuation">;</span>                                   
                                                                                                                
<span class="token comment">// 修改年为2019                                                                                                     </span>
ldt2 <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token function">withYear</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                      
<span class="token comment">// 修改为2022                                                                                                      </span>
ldt3 <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">,</span> <span class="token number">2022</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                        
<span class="token comment">// 改年--2020-08-10T14:46:56--2022-08-10T14:46:56                                                                 </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;改年--&quot;</span> <span class="token operator">+</span> ldt2 <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> ldt3<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="日期计算-1" tabindex="-1"><a class="header-anchor" href="#日期计算-1"><span>日期计算</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 比如有些时候想知道这个月的最后一天是几号、下个周末是几号，通过提供的时间和日期API可以很快得到答案 。                                                         </span>
<span class="token comment">// TemporalAdjusters提供的各种日期时间格式化的静态类，比如firstDayOfYear是当前日期所属年的第一天                                               </span>
<span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                          
<span class="token class-name">LocalDate</span> localDate1 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
<span class="token comment">// 日期计算2：2020-04-11--2020-01-01                                                                                 </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;日期计算2：&quot;</span> <span class="token operator">+</span> localDate <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> localDate1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="instant-获取秒数" tabindex="-1"><a class="header-anchor" href="#instant-获取秒数"><span>Instant 获取秒数</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Instant</span> instant <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                
<span class="token comment">// 获取秒数                                                                                                         </span>
<span class="token keyword">long</span> currentSecond <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">getEpochSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                  
<span class="token comment">// 获取毫秒数                                                                                                        </span>
<span class="token keyword">long</span> currentTimeMillis <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                
<span class="token keyword">long</span> currentTimeMillis2 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                           
<span class="token comment">// Instant--2020-04-11T12:49:02.957Z--1586609342--1586609342957==1586609342957                                  </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token string">&quot;Instant--&quot;</span> <span class="token operator">+</span> instant <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> currentSecond <span class="token operator">+</span> <span class="token string">&quot;--&quot;</span> <span class="token operator">+</span> currentTimeMillis <span class="token operator">+</span> <span class="token string">&quot;==&quot;</span> <span class="token operator">+</span> currentTimeMillis2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="间隔计算" tabindex="-1"><a class="header-anchor" href="#间隔计算"><span>间隔计算</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 使用Duration进行 day,hour,minute,second等的计算                                                                      </span>
<span class="token class-name">Duration</span> duration <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>ldt<span class="token punctuation">,</span> nowDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                         
duration<span class="token punctuation">.</span><span class="token function">toDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                              
duration<span class="token punctuation">.</span><span class="token function">toHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                             
duration<span class="token punctuation">.</span><span class="token function">toMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                                                           
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;间隔天：&quot;</span> <span class="token operator">+</span> duration<span class="token punctuation">.</span><span class="token function">toDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;，间隔小时：&quot;</span> <span class="token operator">+</span> duration<span class="token punctuation">.</span><span class="token function">toHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;，间隔分钟：&quot;</span> <span class="token operator">+</span> duration<span class="token punctuation">.</span><span class="token function">toMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 使用Period进行Year,Month的计算                                                                                      </span>
<span class="token class-name">Period</span> period <span class="token operator">=</span> <span class="token class-name">Period</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>ldt<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
period<span class="token punctuation">.</span><span class="token function">getYears</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
period<span class="token punctuation">.</span><span class="token function">getMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
period<span class="token punctuation">.</span><span class="token function">toTotalMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;间隔年：&quot;</span> <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">getYears</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;，间隔月：&quot;</span> <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">getMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;，间隔总月：&quot;</span> <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">toTotalMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,32),e=[o];function c(l,i){return s(),a("div",null,e)}const k=n(p,[["render",c],["__file","LocalDateTime的使用.html.vue"]]),r=JSON.parse('{"path":"/docs/knowledgeShard/LocalDateTime%E7%9A%84%E4%BD%BF%E7%94%A8.html","title":"LocalDateTime的使用","lang":"zh-CN","frontmatter":{"title":"LocalDateTime的使用"},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"常用方法","slug":"常用方法","link":"#常用方法","children":[{"level":3,"title":"获取当前日期和时间","slug":"获取当前日期和时间","link":"#获取当前日期和时间","children":[]},{"level":3,"title":"获取秒数和毫秒数","slug":"获取秒数和毫秒数","link":"#获取秒数和毫秒数","children":[]},{"level":3,"title":"LocalDateTime与String互转","slug":"localdatetime与string互转","link":"#localdatetime与string互转","children":[]},{"level":3,"title":"Date与LocalDateTime互转","slug":"date与localdatetime互转","link":"#date与localdatetime互转","children":[]},{"level":3,"title":"LocalDateTime格式化","slug":"localdatetime格式化","link":"#localdatetime格式化","children":[]},{"level":3,"title":"LocalDate指定年月日，获取年、月、日、周次","slug":"localdate指定年月日-获取年、月、日、周次","link":"#localdate指定年月日-获取年、月、日、周次","children":[]},{"level":3,"title":"LocalTime某个时间的时分秒","slug":"localtime某个时间的时分秒","link":"#localtime某个时间的时分秒","children":[]},{"level":3,"title":"获取年月日和时分秒","slug":"获取年月日和时分秒","link":"#获取年月日和时分秒","children":[]},{"level":3,"title":"日期计算","slug":"日期计算","link":"#日期计算","children":[]},{"level":3,"title":"日期计算","slug":"日期计算-1","link":"#日期计算-1","children":[]},{"level":3,"title":"Instant 获取秒数","slug":"instant-获取秒数","link":"#instant-获取秒数","children":[]},{"level":3,"title":"间隔计算","slug":"间隔计算","link":"#间隔计算","children":[]}]}],"git":{"updatedTime":1715061248000,"contributors":[{"name":"czx","email":"2504058202@qq.com","commits":1}]},"filePathRelative":"docs/knowledgeShard/LocalDateTime的使用.md"}');export{k as comp,r as data};
